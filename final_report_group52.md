# Introduction 
Our group decided to focus our research questions on movies. We chose this topic because every member in the group was an avid movie watcher and enjoyed investigating the intricacies behind what made movies popular. We all approached this from different angles, one member correlated length with popularity, another measured the money generated by specific genres and how frequently they were used in movies, another also measured the correlation between the quality and popularity of movies. Through asking these questions we all arrived at our unique solutions to the questions we posed at the start of the project.

<br />

# Exploratory Data Analysis

Initially, Avi intended to analyze how the popularity of genres differed domestically versus
Internationally. His EDA, however, revealed that the popularity of genres remains relatively consistent among domestic and international audiences, as Figures 1 and 2 demonstrate. Therefore, Avi concluded that his initial research question was too limited and needed to be expanded. He refined his research question to instead explore how to the popularity of genres change over time.

<br />

![Figure 1](/images/EDA1.png)
<font size = 2><b>Figure 1.</b></font>

<br />

![Figure 2](/images/EDA2.png)
<font size = 2><b>Figure 2.</b></font>

<br />

Kyla’s initial research question asked whether shorter or longer films were more popular in terms of sales and ratings. The preliminary graphs showed there was a consistent positive trend between runtime versus sales (domestic, international, and worldwide) and runtime versus ratings (Figures 3, 4). At the time the EDA was performed, however, the dataset of ratings was incomplete, and the observed trend was based on limited datapoints. Although the research question did not require refinement, the analysis required more in-depth statistics to confirm whether the apparent positive trend was statistically significant. Finally, Kyla decided that a popularity score should be added which incorporates sales and ratings together, such that the effect of runtime on popularity could be more clearly analyzed.

<br />

![Figure 3](/images/EDA3.png)
<font size = 2><b>Figure 3.</b></font>

<br />

![Figure 4](/images/EDA4.png)
<font size = 2><b>Figure 4.</b></font>

<br />

In his preliminary analysis, Cody sought to explore the relationship between the quality and popularity of a movie, as well as the relationship between the quality and release date of a movie. His EDA revealed that different websites differ in their tendencies in ratings amongst their user bases. As Figure 5 shows, on average, IMDb users tend to rate movies higher than Rate Your Music users. Cody also found that the majority of movies in the selected dataset are of average and good quality and usually fall within a narrow range between around 6 and 7, out of a 0-10 scale (Figure 6). As with Kyla, Cody’s research question did not need much refinement but rather required further data manipulation and statistical analysis.

<br />

![Figure 5](/images/EDA5.png)

<font size = 2><b>Figure 5.</b></font>

<br />

![Figure 6](/images/EDA6.png)
<font size = 2><b>Figure 6.</b></font>

<br />

# Results and Discussion

## Question 1: **How have the relative frequencies of different movie genres changed over time? Are there certain genres that have become more or less popular over the past few decades?**

Popularity is an amorphous term that can have multiple different metrics through which it can be measured. I decided to measure the popularity of genres through how much money they earned and how frequently they appeared in movies. The dataset we chose has a column that lists the genres of every movie in the set, through counting how many times a specific genre was repeated throughtout the dataset and then correlating it with the year I was able to find out the relative frequency of the genre, or how often a movie was released in a year that included the genre. I used this relative frequency as one measure of popularity to find the most popular genre. [You can find the full analysis notebook here, including the code and the data here.](analysis/analysis1.ipynb)

<br />

![Relative frequency graph](images/avi_relativefreq_top5_movies.png)

<br />

There were 21 genres in total that was available in our dataset, I narrowed that down to the top 5 most popular genres so the graph was not overplotted and remained legible. However viewing the relative frequency of the other less popular genres is also possible. The second method I used to measure popularity was the money they brought in through sales. Movies have multiple genres associated with them, so I saw what movies were associated with each genre and added up the global sales of said movie. Through this I was able to see how much money was brought in by each genre.

<br />

![Genre sales graph](images/avi_Top5_movie_genre_OT.png)

<br />

I had the same thought process for this method and decided to graph the top 5 most popular genres. From this graph I found out that adventure again was the genre that was financially the most successfull. However action was a close second. Surprisingly, in the previous year the genre scifi seems to have caught up with action and is basically at the same popularity financially. An obvious correlation to make would be that the genres that make the most money seem to have the most movies made with the respective genre. Using these two methods of gauging popularity I found out that the relative frequencies of move genres has increased as a whole, this is due to the fact that the movie industry has grown since its inception. This goes hand in hand with answering the second part of my question, all genres have increased in popularity since the first time they appeared in a movie according to our dataset.

<br />

## Question 2: **Does the length of a film affect its popularity, as assessed by sales and ratings?**

The second question our project addressed was: "Does the length of a film affect its popularity, as assessed by sales and ratings?" In order to answer this question, our main dataset - which provided domestic, international, and worldwide sales for each film - was supplemented by our own dataset containing ratings for each film. This dataset was filled manually and pulled ratings from three sites - IMDb, Letterboxd, and Rate Your Music. Based on the size of the later dataset, 450 films were used for this analysis. The ratings from these sites were standardized to percentages and averaged to calculate the average rating for each film. The worldwide popularity of each film was then calculated based on worldwide sales and average rating, as the following equation describes: (0.5)(world sales/maximum world sales) + (0.5)(average rating).

Linear regressions were performed on the following pairs of variables: domestic sales vs. runtime, international sales vs. runtime, world sales vs. runtime, average rating vs. runtime, and worldwide popularity vs. runtime. To ensure the data fulfilled the assumptions for linear regression, residual plots were graphed for each variable pairing. Where heteroscedasticity was observed, the independent variable was log<sub>2</sub>-transformed. This log-transformation successfully solved all cases of heteroscedasticity. There were some cases where further data manipulation was required, such as removal of major outliers.

<br />

<img src="./images/kyla_worldsalesvsruntime.png" alt="Trulli" style="width:60%">

<br />

<font size = 2><b>Fig 1. Worldwide sales (in U.S. dollars) are plotted against runtime (in minutes). </b>  Worldwide sales were log<sub>2</sub>-transformed due to heteroscedasticity. The equation for the trendline is as follows: log<sub>2</sub>(World Sales) = (0.01106)(Runtime) + 27.5667. P-value was 7.9933e-13. R<sup>2</sup> value was 0.3291. Standard error was 0.0015. Based on a P-value of < 0.0001, the positive correlation is significant at p <= 0.05.</font>

<br />

<img src="./images/kyla_averageratingvsruntime.png" alt="Trulli" style="width:60%">

<br />

<font size = 2><b>Fig 2. Average rating (in percentage) is plotted against runtime (in minutes). </b> Ratings from three sites - IMDb, Letterboxd, and Rate Your Music - were standardized and averaged. The equation for the trendline is as follows: Average Rating = (0.1031)(Runtime) + 51.5159. P-value was 1.4572e-07. R<sup>2</sup> value was 0.2448. Standard error was 0.0193. Based on a P-value of < 0.0001, the positive correlation is significant at p <= 0.05.</font>

<br />

<img src="./images/kyla_worldpopularityvsruntime.png" alt="Trulli" style="width:60%">

<br />

<font size = 2><b>Fig 3. Popularity (in percentage) is plotted against runtime (in minutes). </b> Popularity score takes into acount both worldwide sales and average rating [calculated as: 0.5 (worldwide sales/maximum worldwide sales) + 0.5 (average rating)]. The equation for the trendline is as follows: Worldwide Popularity = (0.1456)(Runtime) + 24.575. P-value was 1.3668e-18. R<sup>2</sup> value was 0.3986. Standard error was 0.0158. Based on a P-value of < 0.0001, the positive correlation is significant at p <= 0.05.</font>

<br />

Linear regression found significant positive correlations between all variable pairings (Fig. 1, Fig. 2, Fig. 3; figures for domestic sales vs. runtime and international sales vs. runtime are not shown here). In all cases, p-values were less than 0.0001, implying signicance at p <= 0.05. Therfore, the analysis found that film runtime does have an effect on popularity, as well as sales and ratings individually. Specifically, longer movies are more popular and perform better in sales and ratings. The regression line for worldwide popularity vs. runtime suggests that a movie's popularity score increases by around 0.15 for every minute its runtime is increased. There are several hypotheses for why this may be the case. One possibility is that longer runtimes are associated with bigger budget or higher production value projects. Another may be that longer runtimes allow for better story and character development.

Two confounding variables considered were genre and distributor. Longer runtime may be correlated with certain genres or distributors, which in turn were more popular. Although box plots were produced for a base level assessment, the scope of this analysis did not allow for in-depth statistical analysis to test for confounding correlations between runtime and genre or distributor. Therefore, this analysis was unable to determine with certainty whether the positive correlations observed between popularity and runtime were the result of confounding variables.

[You can find the full analysis notebook here, including the code and the data here.](analysis/analysis2.ipynb)

<br />

## Question 3: **Does a movie's popularity correlate with its quality?**

In [Cody's analysis](https://github.com/ubco-W2022T2-data301/project-group-group52/blob/main/analysis/analysis3.ipynb), we examined two research questions. The first question was "Does a movie's popularity correlate with it's quality?" In this analysis, Cody used a weighted rating score taken as an average of a movie's IMDb, Letterboxd, and Rateyourmusic adjusted rating. He then separated movies into 'bad', 'average', 'good', and 'great' categories based on that weighted score. The baseline score which was used to define 'average' was a 6/10 movie. Two key visualizations which were utilized to answer this question were a boxplot of weighted rating and a histogram of movie quality.

<br />

![Boxplot of Top 449 Movies by Weighted Rating](images/cody_final_analysis/boxplot.JPG)

<br />

In this visualization, we can see that the midpoint is significantly higher than 6/10, but still within what is defined as an 'average' movie. We can see that 25% of the observations fall below a rating of 5.63 with the lowest rating being 3.50. 25% of the observations are above a rating of 7.14 with the highest rating being 8.99. By our definitions, the majority of these popular movies are 'average' or 'good'. Furthermore, when we narrow the range to include only the top 150 highest rated movies, the distribution seems to shift to the right.

<br />

![Boxplot of Top 150 Movies by Weighted Rating](images/cody_final_analysis/boxplot_150.JPG)

<br />

This seems to imply that popular movies tend to be of higher quality than average movies. To further demonstrate this, we can see this histogram of the frequency of movie quality.

<br />

![Frequency Distribution of Movie Quality](images/cody_final_analysis/quality_dist.JPG)

<br />

From this graph, we can see that 'good' and 'average' movies are the most frequent. 'Bad' movies are significantly rarer, with 'great' movies being an outlier. From these visualizations as well as the deeper analysis, we concluded that popular movies tend to be rated higher than the average movie, but the correlation between popularity and 'great' movies is not that strong. In other words, we can expect a popular movie to be above average or even good, but not necessarily amazing.

<br />

## Question 4: **Does a movie's release year correlate with its quality?**

The second research question was "Does a movie's release year correlate with its quality?" This question was simpler to answer. Initially, it seemed that there was a correlation between release year and quality, however these older years tended to have significantly fewer observations. A filter was applied to only account for years with a large amount of observations (2000-2021), and this scatterplot was obtained. 

<br />

![Scatterplot of Movie Weighted Rating by Release Year: 2000-2021](images/cody_final_analysis/scatterplot.JPG)

<br />

As we can see, when eliminating the years which had few observations, there appeared to be much less of a correlation between release year and quality. We concluded that there is no significant correlation between release year and quality. 

<br />

# Conclusion

In our analysis, we have learned that by investigating runtime, sales, ratings, and genres, popular movies tend to have these characteristics. Movies have been growing in popularity steadily. Sales tend to increase over the years and amount of movies made within a genre also increases. We found that the 2 most popular movie genres are 'Adventure' and 'Action'. We found that popular films tend to have longer runtimes. We found that there is a positive correlation between a movie's quality and its popularity. Finally, we found that there isn't a significant correlation between a movie's release year and it's quality. In conclusion, we can see that popular movies tend to be more recent, longer, action or adventure-oriented, and higher quality. 